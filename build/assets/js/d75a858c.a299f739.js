"use strict";(self.webpackChunktest_site=self.webpackChunktest_site||[]).push([[2309],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>k});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(t),m=o,k=c["".concat(s,".").concat(m)]||c[m]||p[m]||r;return t?a.createElement(k,i(i({ref:n},d),{},{components:t})):a.createElement(k,i({ref:n},d))}));function k(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=t[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},85162:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(67294),o=t(86010);const r={tabItem:"tabItem_Ymn6"};function i(e){let{children:n,hidden:t,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(r.tabItem,i),hidden:t},n)}},74866:(e,n,t)=>{t.d(n,{Z:()=>v});var a=t(87462),o=t(67294),r=t(86010),i=t(12466),l=t(16550),s=t(91980),u=t(67392),d=t(50012);function c(e){return function(e){return o.Children.map(e,(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:o}}=e;return{value:n,label:t,attributes:a,default:o}}))}function p(e){const{values:n,children:t}=e;return(0,o.useMemo)((()=>{const e=n??c(t);return function(e){const n=(0,u.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function k(e){let{queryString:n=!1,groupId:t}=e;const a=(0,l.k6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,s._X)(r),(0,o.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(a.location.search);n.set(r,e),a.replace({...a.location,search:n.toString()})}),[r,a])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,r=p(e),[i,l]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:r}))),[s,u]=k({queryString:t,groupId:a}),[c,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,r]=(0,d.Nk)(t);return[a,(0,o.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:a}),g=(()=>{const e=s??c;return m({value:e,tabValues:r})?e:null})();(0,o.useLayoutEffect)((()=>{g&&l(g)}),[g]);return{selectedValue:i,selectValue:(0,o.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,r]),tabValues:r}}var g=t(72389);const h={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function y(e){let{className:n,block:t,selectedValue:l,selectValue:s,tabValues:u}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),p=e=>{const n=e.currentTarget,t=d.indexOf(n),a=u[t].value;a!==l&&(c(n),s(a))},m=e=>{let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;n=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;n=d[t]??d[d.length-1];break}}n?.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},n)},u.map((e=>{let{value:n,label:t,attributes:i}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,key:n,ref:e=>d.push(e),onKeyDown:m,onClick:p},i,{className:(0,r.Z)("tabs__item",h.tabItem,i?.className,{"tabs__item--active":l===n})}),t??n)})))}function b(e){let{lazy:n,children:t,selectedValue:a}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},r.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==a}))))}function N(e){const n=f(e);return o.createElement("div",{className:(0,r.Z)("tabs-container",h.tabList)},o.createElement(y,(0,a.Z)({},e,n)),o.createElement(b,(0,a.Z)({},e,n)))}function v(e){const n=(0,g.Z)();return o.createElement(N,(0,a.Z)({key:String(n)},e))}},96982:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>k,frontMatter:()=>l,metadata:()=>u,toc:()=>c});var a=t(87462),o=(t(67294),t(3905)),r=t(74866),i=t(85162);const l={sidebar_label:"Function Call Drops"},s="Function Call Drops",u={unversionedId:"Cookbook/drops/fc",id:"version-2.0/Cookbook/drops/fc",title:"Function Call Drops",description:"This part of the cookbook contains a quick overview on how to create an assortment of function call drops, using Keypom injected arguments, and attaching NFTs to your FC drop by lazy minting them.",source:"@site/versioned_docs/version-2.0/Cookbook/drops/fc.md",sourceDirName:"Cookbook/drops",slug:"/Cookbook/drops/fc",permalink:"/docs/2.0/Cookbook/drops/fc",draft:!1,editUrl:"https://github.com/keypom/keypom-docs/tree/main/versioned_docs/version-2.0/Cookbook/drops/fc.md",tags:[],version:"2.0",frontMatter:{sidebar_label:"Function Call Drops"},sidebar:"Cookbook",previous:{title:"Fungible Token Drops",permalink:"/docs/2.0/Cookbook/drops/ft"},next:{title:"Trial Account Drops",permalink:"/docs/2.0/Cookbook/drops/trial"}},d={},c=[{value:"Getting Started",id:"getting-started",level:2},{value:"Creating a Single Method, Single Use Function Call Drop",id:"creating-a-single-method-single-use-function-call-drop",level:2},{value:"Single Method, Multi-Use Drop",id:"single-method-multi-use-drop",level:2},{value:"Multi-Method, Single Use Key Drop",id:"multi-method-single-use-key-drop",level:2},{value:"Multi-Method, Multi-Use Drop",id:"multi-method-multi-use-drop",level:2},{value:"Using and Verifying Injected Keypom Arguments",id:"using-and-verifying-injected-keypom-arguments",level:2},{value:"Verifying Injected Arguments",id:"verifying-injected-arguments",level:3},{value:"Attaching NFTs to your FC Drop",id:"attaching-nfts-to-your-fc-drop",level:2},{value:"Delete Drop",id:"delete-drop",level:2}],p={toc:c},m="wrapper";function k(e){let{components:n,...t}=e;return(0,o.kt)(m,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"function-call-drops"},"Function Call Drops"),(0,o.kt)("p",null,"This part of the cookbook contains a quick overview on how to create an assortment of function call drops, using Keypom injected arguments, and attaching NFTs to your FC drop by lazy minting them."),(0,o.kt)("h2",{id:"getting-started"},"Getting Started"),(0,o.kt)("p",null,"For the cookbook, you will need the following installed. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"},"Node JS"),"  "),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/keypom/keypom-js#getting-started"},"Keypom JS SDK"))),(0,o.kt)("admonition",{title:"note",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"These scripts will not run without the proper setup shown in the ",(0,o.kt)("a",{parentName:"p",href:"/docs/2.0/Cookbook/welcome#connection-to-near-and-initializing-the-sdk"},"introduction page"),".")),(0,o.kt)("h2",{id:"creating-a-single-method-single-use-function-call-drop"},"Creating a Single Method, Single Use Function Call Drop"),(0,o.kt)("p",null,"A Function Call Drop allows the user to call almost any function on any NEAR smart contract when claiming. An example is shown below where the method ",(0,o.kt)("inlineCode",{parentName:"p"},"mint")," is called on ",(0,o.kt)("inlineCode",{parentName:"p"},"MY_CONTRACT")," with the specified ",(0,o.kt)("inlineCode",{parentName:"p"},"memo")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"metadata")," arguments. "),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'MY_CONTRACT = "guest-book.examples.keypom.testnet"\n\n// Creating a single key single use FC drop\nlet {keys} = await createDrop({\n    account: fundingAccount,\n    numKeys: 1,\n    depositPerUseNEAR: "0.1",\n    fcData: {\n        methods: [\n            // First key use\n            [\n                {\n                    receiverId: MY_CONTRACT,\n                    methodName: "add_message",\n                    args: JSON.stringify({\n                        text: "first"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                },\n            ],\n        ]   \n    }   \n})\n\nconsole.log(keys)\n')))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"single-method-multi-use-drop"},"Single Method, Multi-Use Drop"),(0,o.kt)("p",null,"To further expand the FC drop, you have the ability to call a different method for each claim. This is shown below, where the first use calls ",(0,o.kt)("inlineCode",{parentName:"p"},"mint"),", the second call does nothing, and the third calls ",(0,o.kt)("inlineCode",{parentName:"p"},"sell"),". "),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'MY_CONTRACT = "guest-book.examples.keypom.testnet"\n\n// Creating a single key single use FC drop\nlet {keys} = await createDrop({\n    account: fundingAccount,\n    numKeys: 1,\n    config: {\n        usesPerKey: 3\n    },\n    depositPerUseNEAR: "0.1",\n    fcData: {\n        methods: [\n            // First key use\n            [\n                {\n                    receiverId: MY_CONTRACT,\n                    methodName: "add_message",\n                    args: JSON.stringify({\n                        text: "first"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                },\n            ],\n            // Second key use\n            null,\n            // Third key use\n            [\n                {\n                    receiverId: MY_CONTRACT,\n                    methodName: "add_message",\n                    args: JSON.stringify({\n                        text: "first-point-five"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                }\n            ],\n        ]   \n    }   \n})\n\nconsole.log(keys)\n')))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"multi-method-single-use-key-drop"},"Multi-Method, Single Use Key Drop"),(0,o.kt)("p",null,"With each ",(0,o.kt)("inlineCode",{parentName:"p"},"claim"),", you can also call multiple functions. Note this would call each function in succession after the previous one is resolved. In the example below, the ",(0,o.kt)("inlineCode",{parentName:"p"},"mint"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"null")," case, and ",(0,o.kt)("inlineCode",{parentName:"p"},"sell")," functions are called during the first ",(0,o.kt)("inlineCode",{parentName:"p"},"claim"),". "),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'MY_CONTRACT = "guest-book.examples.keypom.testnet"\n\n// Creating a single key single use FC drop\nlet {keys} = await createDrop({\n    account: fundingAccount,\n    numKeys: 1,\n    depositPerUseNEAR: "0.1",\n    fcData: {\n        methods: [\n            // First key use\n            [\n                {\n                    receiverId: MY_CONTRACT,\n                    methodName: "add_message",\n                    args: JSON.stringify({\n                        text: "first"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                },\n                null\n                {\n                    receiverId: MY_CONTRACT,\n                    methodName: "add_message",\n                    args: JSON.stringify({\n                        text: "second"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                },\n            ],\n        ]   \n    }   \n})\n\nconsole.log(keys)\n')))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"multi-method-multi-use-drop"},"Multi-Method, Multi-Use Drop"),(0,o.kt)("p",null,"By combining the ",(0,o.kt)("a",{parentName:"p",href:"#creating-a-multi-claim-function-call-drop"},"multi-claim")," and ",(0,o.kt)("a",{parentName:"p",href:"#creating-a-multi-function-call-drop"},"multi-function call")," drops together, you can call multiple number of functions for multiple claims. As an example, a key with 3 uses can be seen:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"add_message")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"null")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"nft_mint"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"add_message"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"nft_transfer"))),(0,o.kt)("p",null,"The drop for this would look like the following"),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'MY_CONTRACT = "guest-book.examples.keypom.testnet"\n\n// Creating a single key single use FC drop\nlet {keys: key4} = await createDrop({\n    account: fundingAccount,\n    numKeys: 1,\n    config: {\n        usesPerKey: 3\n    },\n    depositPerUseNEAR: "0.1",\n    fcData: {\n        methods: [\n            // First key use\n            [\n                {\n                    receiverId: MY_CONTRACT,\n                    methodName: "add_message",\n                    args: JSON.stringify({\n                        text: "first"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                }\n            ],\n            // Second key use\n            null,\n            // Third key use\n            [\n                {\n                    receiverId: NFT_CONTRACT,\n                    methodName: "nft_mint",\n                    args: JSON.stringify({\n                        token_id: "keypom-cookbook-1",\n                        receiver_id: "minqi.testnet",\n                        metadata: {\n                            title: "My Test Keypom NFT",\n                            description: "NFT from my first NFT Drop!",\n                            media: "https://bafybeiftczwrtyr3k7a2k4vutd3amkwsmaqyhrdzlhvpt33dyjivufqusq.ipfs.dweb.link/goteam-gif.gif",\n                        },\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                },\n                {\n                    receiverId: MY_CONTRACT,\n                    methodName: "add_message",\n                    args: JSON.stringify({\n                        text: "second"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                },\n                {\n                    receiverId: NFT_CONTRACT,\n                    methodName: "nft_transfer",\n                    args: JSON.stringify({\n                        receiver_id: "benjiman.testnet\n                        token_id: "keypom-cookbook-1"\n                    }),\n                    attachedDeposit: parseNearAmount("0.001"),\n                },\n            ],\n        ]   \n    }   \n})\n\nconsole.log(keys)\n')))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"using-and-verifying-injected-keypom-arguments"},"Using and Verifying Injected Keypom Arguments"),(0,o.kt)("p",null,"Keypom Args are important pieces of information injected automatically by Keypom when a key is claimed. The pieces of information can include: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Drop ID that the access key belongs to"),(0,o.kt)("li",{parentName:"ul"},"Funder's ",(0,o.kt)("inlineCode",{parentName:"li"},"accountId")," of the drop"),(0,o.kt)("li",{parentName:"ul"},"The claiming account's ",(0,o.kt)("inlineCode",{parentName:"li"},"accountId")),(0,o.kt)("li",{parentName:"ul"},"The current access key's ",(0,o.kt)("inlineCode",{parentName:"li"},"keyId"))),(0,o.kt)("p",null,"The information is injected into the ",(0,o.kt)("inlineCode",{parentName:"p"},"args"),", but their specific location depends on the field specified. In the example below, the ",(0,o.kt)("inlineCode",{parentName:"p"},"funderId")," is being injected into an ",(0,o.kt)("inlineCode",{parentName:"p"},"originalOwner")," field in the ",(0,o.kt)("inlineCode",{parentName:"p"},"args"),", and the claiming account's ",(0,o.kt)("inlineCode",{parentName:"p"},"accountId")," is being injected into the ",(0,o.kt)("inlineCode",{parentName:"p"},"metadata")," object under the field ",(0,o.kt)("inlineCode",{parentName:"p"},"newOwner"),". "),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Creating FC drop that injects accountId into function call arguments\nlet {keys, dropId} = await createDrop({\n    account: fundingAccount,\n    numKeys: 1,\n    depositPerUseNEAR: "0.1",\n    fcData: {\n        methods: [\n            [\n                {\n                    receiverId: MY_NFT_CONTRACT,\n                    methodName: "mint",\n                    args: JSON.stringify({\n                        mint_id: MINT_ID,\n                        metadata: {\n                            description: "my new NFT"\n                        }\n                    }),\n                    // Injecting claiming account ID into the metadata object as originalOwner\n                    accountIdField: "metadata.newOwner",\n                    funderIdField: "originalOwner",\n                }\n            ],\n        ]   \n    }   \n})\n\nconsole.log(keys)\n')))),(0,o.kt)("h3",{id:"verifying-injected-arguments"},"Verifying Injected Arguments"),(0,o.kt)("p",null,"In addition to the injected arguments, Keypom will also automatically send an object called ",(0,o.kt)("inlineCode",{parentName:"p"},"keypom_args"),". This object is meant for your use to validate that certain arguments were indeed injected by Keypom. This object cannot be spoofed, and any attempt to do so will cause the claim to fail. "),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"To validate the injected argument the receiving ",(0,o.kt)("inlineCode",{parentName:"p"},"mint")," function should look like this. "),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-rust"},'#[payable]\npub fn mint(&mut self, mint_id: String, originalOwner: String, metadata: data, keypomArgs: keypom_args) -> Promise {\n        assert!(originalOwner == DROP_FUNDER_ID && keypomArgs.funderIdField == "originalOwner", "Call must come from valid Keypom drop");\n        // Optionally can also validate that keypomArgs.accountIdField == "metadata.newOwner" if you want to ensure newOwner was not hardcoded. \n        ...\n}\n'))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"attaching-nfts-to-your-fc-drop"},"Attaching NFTs to your FC Drop"),(0,o.kt)("p",null,"As part of your FC drop, you can send the user an NFT. The best way to do this would be to lazy-mint them, as to not waste funds minting NFTs belonging to keys that are ultimately not claimed. "),(0,o.kt)("p",null,"To do this, you must create an NFT series, and then include a ",(0,o.kt)("inlineCode",{parentName:"p"},"nft_mint")," call as one of the key's function calls. The Keypom NFT contracts, ",(0,o.kt)("inlineCode",{parentName:"p"},"nft-v2.keypom.testnet")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"nft-v2.keypom.near"),", have the functionality to create a series and then mint the NFT using just the ",(0,o.kt)("inlineCode",{parentName:"p"},"dropId"),".  "),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Create drop with 10 keys and 2 key uses each\nlet {keys, dropId} = await createDrop({\n    account: fundingAccount,\n    numKeys: 30,\n    depositPerUseNEAR: "0.1",\n    fcData: {\n        methods: [\n            [\n                {\n                    receiverId: `nft-v2.keypom.${NETWORK_ID}`,\n                    methodName: "nft_mint",\n                    args: "",\n                    dropIdField: "mint_id",\n                    accountIdField: "receiver_id",\n                    attachedDeposit: parseNearAmount("0.1")\n                }\n            ],\n        ]   \n    }   \n})\n\nawait createNFTSeries({\n    account: fundingAccount,\n    dropId,\n    metadata: {\n        title: "Moon NFT Ticket!",\n        description: "A cool NFT POAP for the best dog in the world.",\n        media: "bafybeibwhlfvlytmttpcofahkukuzh24ckcamklia3vimzd4vkgnydy7nq",\n        copies: 30\n    }\n}); \n')))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"delete-drop"},"Delete Drop"),(0,o.kt)("p",null,"A drop can be deleted manually at any time using ",(0,o.kt)("inlineCode",{parentName:"p"},"deleteDrops"),". This will refund all unclaimed key balances back to the drop funder's Keypom balance. "),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Get all the drops for a given user\nlet drops = await getDrops({accountId: "minqi.testnet"});\n\n// Delete all the drops currently funded by `minqi.testnet`\nawait deleteDrops({\n    account: fundingAccount,\n    drops\n})\n\n// Delete 2 seperate drops given their IDs\nawait deleteDrops({\n    account: fundingAccount,\n    dropIds: ["123123123123123", "12391238012380123"]\n})\n')))),(0,o.kt)("hr",null))}k.isMDXComponent=!0}}]);
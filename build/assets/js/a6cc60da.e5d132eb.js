"use strict";(self.webpackChunktest_site=self.webpackChunktest_site||[]).push([[2929],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=r.createContext({}),s=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(i.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=s(n),f=o,m=p["".concat(i,".").concat(f)]||p[f]||d[f]||a;return n?r.createElement(m,l(l({ref:t},c),{},{components:n})):r.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=f;var u={};for(var i in t)hasOwnProperty.call(t,i)&&(u[i]=t[i]);u.originalType=e,u[p]="string"==typeof e?e:o,l[1]=u;for(var s=2;s<a;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(67294),o=n(86010);const a={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:n,className:l}=e;return r.createElement("div",{role:"tabpanel",className:(0,o.Z)(a.tabItem,l),hidden:n},t)}},74866:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(87462),o=n(67294),a=n(86010),l=n(12466),u=n(16550),i=n(91980),s=n(67392),c=n(50012);function p(e){return function(e){return o.Children.map(e,(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:o}}=e;return{value:t,label:n,attributes:r,default:o}}))}function d(e){const{values:t,children:n}=e;return(0,o.useMemo)((()=>{const e=t??p(n);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function f(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const r=(0,u.k6)(),a=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,i._X)(a),(0,o.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(r.location.search);t.set(a,e),r.replace({...r.location,search:t.toString()})}),[a,r])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,a=d(e),[l,u]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:a}))),[i,s]=m({queryString:n,groupId:r}),[p,b]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,a]=(0,c.Nk)(n);return[r,(0,o.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:r}),h=(()=>{const e=i??p;return f({value:e,tabValues:a})?e:null})();(0,o.useLayoutEffect)((()=>{h&&u(h)}),[h]);return{selectedValue:l,selectValue:(0,o.useCallback)((e=>{if(!f({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);u(e),s(e),b(e)}),[s,b,a]),tabValues:a}}var h=n(72389);const k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function g(e){let{className:t,block:n,selectedValue:u,selectValue:i,tabValues:s}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,l.o5)(),d=e=>{const t=e.currentTarget,n=c.indexOf(t),r=s[n].value;r!==u&&(p(t),i(r))},f=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":n},t)},s.map((e=>{let{value:t,label:n,attributes:l}=e;return o.createElement("li",(0,r.Z)({role:"tab",tabIndex:u===t?0:-1,"aria-selected":u===t,key:t,ref:e=>c.push(e),onKeyDown:f,onClick:d},l,{className:(0,a.Z)("tabs__item",k.tabItem,l?.className,{"tabs__item--active":u===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:r}=e;const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=a.find((e=>e.props.value===r));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},a.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function v(e){const t=b(e);return o.createElement("div",{className:(0,a.Z)("tabs-container",k.tabList)},o.createElement(g,(0,r.Z)({},e,t)),o.createElement(y,(0,r.Z)({},e,t)))}function T(e){const t=(0,h.Z)();return o.createElement(v,(0,r.Z)({key:String(t)},e))}},66786:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>u,metadata:()=>s,toc:()=>p});var r=n(87462),o=(n(67294),n(3905)),a=n(74866),l=n(85162);const u={sidebar_label:"Fungible Token Drops"},i="Fungible Token Drops",s={unversionedId:"Cookbook/drops/ft",id:"version-2.0/Cookbook/drops/ft",title:"Fungible Token Drops",description:"This part of the cookbook contains a quick overview on how to create an FT drop.",source:"@site/versioned_docs/version-2.0/Cookbook/drops/ft.md",sourceDirName:"Cookbook/drops",slug:"/Cookbook/drops/ft",permalink:"/docs/2.0/Cookbook/drops/ft",draft:!1,editUrl:"https://github.com/keypom/keypom-docs/tree/main/versioned_docs/version-2.0/Cookbook/drops/ft.md",tags:[],version:"2.0",frontMatter:{sidebar_label:"Fungible Token Drops"},sidebar:"Cookbook",previous:{title:"Non-Fungible Token Drops",permalink:"/docs/2.0/Cookbook/drops/nft"},next:{title:"Function Call Drops",permalink:"/docs/2.0/Cookbook/drops/fc"}},c={},p=[{value:"Getting Started",id:"getting-started",level:2},{value:"Creating a Fungible Token Drop",id:"creating-a-fungible-token-drop",level:2},{value:"Delete Drop",id:"delete-drop",level:2}],d={toc:p},f="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(f,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"fungible-token-drops"},"Fungible Token Drops"),(0,o.kt)("p",null,"This part of the cookbook contains a quick overview on how to create an FT drop."),(0,o.kt)("h2",{id:"getting-started"},"Getting Started"),(0,o.kt)("p",null,"For the cookbook, you will need the following installed. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"},"Node JS"),"  "),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/keypom/keypom-js#getting-started"},"Keypom JS SDK"))),(0,o.kt)("admonition",{title:"note",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"These scripts will not run without the proper setup shown in the ",(0,o.kt)("a",{parentName:"p",href:"/docs/2.0/Cookbook/welcome#connection-to-near-and-initializing-the-sdk"},"introduction page"),".")),(0,o.kt)("h2",{id:"creating-a-fungible-token-drop"},"Creating a Fungible Token Drop"),(0,o.kt)("p",null,"The process of creating an FT drop starts by checking if the funder has sufficient fungible tokens to actually create the drop. The ",(0,o.kt)("inlineCode",{parentName:"p"},"amountToTransfer")," represents the total amount of FT to transfer for the entire drop. If you want to transfer 1 FT for 50 keys, ",(0,o.kt)("inlineCode",{parentName:"p"},"amountToTransfer")," will be 50 fungible tokens. Next, this amount is compared to the funder's FT balance. Once that check is complete, then the FT drop can be created by including the ",(0,o.kt)("inlineCode",{parentName:"p"},"ftData"),"\t argument in ",(0,o.kt)("inlineCode",{parentName:"p"},"createDrop"),". "),(0,o.kt)(a.Z,{mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Note that drop funder must have enough FTs to fund drop.\n// If amount is "3" and there are 4 keys, Funder FT balance must be more than 12\nconst { keys } = await createDrop({\n    account: fundingAccount,\n    numKeys: 1,\n    depositPerUseNEAR: 1,\n    ftData: {\n        contractId: FT_CONTRACT,\n        senderId: YOUR_ACCOUNT,\n        // This balance per use is balance of human readable FTs per use. \n        amount: "1"\n        // Alternatively, you could use absoluteAmount, which is dependant on the decimals value of the FT\n        // ex. if decimals of an ft = 8, then 1 FT token would be absoluteAmount = 100000000\n    },\n});\n\nconsole.log(keys)\n')))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"delete-drop"},"Delete Drop"),(0,o.kt)("p",null,"A drop can be deleted manually at any time using ",(0,o.kt)("inlineCode",{parentName:"p"},"deleteDrops"),". This will refund all unclaimed key balances back to the drop funder's Keypom balance. "),(0,o.kt)(a.Z,{mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"SDK",label:"\ud83d\udd11 Keypom SDK",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Get all the drops for a given user\nlet drops = await getDrops({accountId: "minqi.testnet"});\n\n// Delete all the drops currently funded by `minqi.testnet`\nawait deleteDrops({\n    account: fundingAccount,\n    drops\n})\n\n// Delete 2 seperate drops given their IDs\nawait deleteDrops({\n    account: fundingAccount,\n    dropIds: ["123123123123123", "12391238012380123"]\n})\n')))),(0,o.kt)("hr",null))}m.isMDXComponent=!0}}]);
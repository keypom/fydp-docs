<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.0 plugin-docs plugin-id-default docs-doc-id-Tutorials/Advanced/ticketing/drop-test">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Testing the Drop | Keypom Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://docs.keypom.xyz/docs/2.0/Tutorials/Advanced/ticketing/drop-test"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://docs.keypom.xyz/img/newMoonCrop2.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:title" content="Keypom Developer Documentation"><meta data-rh="true" name="twitter:image" content="https://docs.keypom.xyz/img/newMoonCrop2.png"><meta data-rh="true" name="docusaurus_version" content="2.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.0"><meta data-rh="true" name="docsearch:version" content="2.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.0"><meta data-rh="true" property="og:title" content="Testing the Drop | Keypom Docs"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/moon.svg"><link data-rh="true" rel="canonical" href="https://docs.keypom.xyz/docs/2.0/Tutorials/Advanced/ticketing/drop-test"><link data-rh="true" rel="alternate" href="https://docs.keypom.xyz/docs/2.0/Tutorials/Advanced/ticketing/drop-test" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.keypom.xyz/docs/2.0/Tutorials/Advanced/ticketing/drop-test" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.35f09d45.css">
<link rel="preload" href="/assets/js/runtime~main.61bceddc.js" as="script">
<link rel="preload" href="/assets/js/main.3737a6b4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/newMoonCrop.svg" alt="MOON" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/moon_white.png" alt="MOON" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/Concepts/welcome">📖 Concepts</a><a class="navbar__item navbar__link" href="/docs/Tutorials/welcome">💻 Tutorials</a><a class="navbar__item navbar__link" href="/docs/TrialAccounts/introduction">🎁 Trial Accounts</a><a class="navbar__item navbar__link" href="/docs/Tutorials/BOS/welcome">🚀 BOS</a><a class="navbar__item navbar__link" href="/docs/keypom-sdk/Core/welcome">📚 SDK TypeDocs</a><a class="navbar__item navbar__link" href="/docs/Cookbook/welcome">🧑‍🍳 Cookbook</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/2.0/Concepts/welcome">2.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/Tutorials/Advanced/ticketing/drop-test">3.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.0/Tutorials/Advanced/ticketing/drop-test">2.0</a></li></ul></div><a href="https://github.com/keypom/keypom-docs/tree/main" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.0/Tutorials/welcome">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/2.0/Tutorials/Basics/getting-started">Basics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Basics/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Basics/simple-drops">Simple Drop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Basics/nft-drops">Non Fungible Token Drop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Basics/ft-drops">Fungible Token Drop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Basics/fc-drops">Function Call Drop</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/2.0/Tutorials/Advanced/ticketing/introduction">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/introduction">Ticketing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/architecture">Solution Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/drop">Creating the Drop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/drop-test">Testing the Drop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/react-outline">App Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/user-code">Attendee Ticket Page Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/scanner-code">Scanner Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/final">Final Product</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/analytics">View Event Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/Advanced/ticketing/bos-tool">🚀 BOS Version</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/2.0/Tutorials/Advanced/daos/introduction">DAO Auto-Registration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/2.0/Tutorials/Advanced/subscriptions/introduction">Recurring Payments</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/2.0/Tutorials/BOS/welcome">BOS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.0/Tutorials/BOS/welcome">Keypom BOS Components</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.0/Tutorials/Advanced/homepage">Coming Soon...</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>You are viewing documentation for Keypom v<b>2.0</b>. For the lastest, see v<b><a href="/docs/Tutorials/Advanced/ticketing/drop-test">3.0</a></b></div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Ticketing</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Testing the Drop</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Testing the Drop</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>In the last section you designed and created a drop according to the specifications you learned about in the <a href="/docs/2.0/Tutorials/Advanced/ticketing/architecture#keypom-solution">Solution Architecture</a>.</p><p>In this tutorial, you&#x27;ll create a generalized method that will determine whether or not to allow someone entry into the event. It will be used to both test the drop logic and power the core functionality of the ticketing app.</p><p>Starting at the <code>keypom-docs-examples</code> directory, navigate to <code>advanced-tutorials/ticket-app-skeleton/utils</code> folder and open the <code>allowEntry.js</code> file.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> advanced-tutorials/ticket-app-skeleton/utils</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This should show the following skeleton code.</p><div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">advanced-tutorials/ticket-app-skeleton/utils/allowEntry.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-docs-examples/blob/4c8f86dab842c16e9c2bc6ad6f22e1eee2dced9e/advanced-tutorials/ticket-app-skeleton/utils/allowEntry.js#L1-L14" target="_blank">See full example on GitHub</a></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="host-claiming-code">Host Claiming Code<a href="#host-claiming-code" class="hash-link" aria-label="Direct link to Host Claiming Code" title="Direct link to Host Claiming Code">​</a></h2><p>In order to test the drop logic, a utility function will be created to emulate the host scanning tickets at the door and will be used by the frontend.</p><p>The primary purpose of this function is to ingest a private key and password, and determine whether or not a ticket is valid. This means it will check for a few conditions before returning a success value. </p><ul><li>The ticket is valid and has not been scanned yet.</li><li>The password entered by the host was correct and the claim was successful</li></ul><p>The <code>allowEntry</code> utility function takes in a private key, and a <code>basePassword</code>.</p><div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">advanced-tutorials/ticket-app/utils/allowEntry.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-docs-examples/blob/4c8f86dab842c16e9c2bc6ad6f22e1eee2dced9e/advanced-tutorials/ticket-app/utils/allowEntry.js#L9-L49" target="_blank">See full example on GitHub</a></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-logic">Testing Logic<a href="#testing-logic" class="hash-link" aria-label="Direct link to Testing Logic" title="Direct link to Testing Logic">​</a></h2><p>Now that the utility function has been created, it can be used to test the drop logic. This will be done in a new file called <code>testTickDrop.js</code> that will live in the same util directory. It will contain two different test functions:</p><ul><li><code>wrongPasswordCheck</code> - This will test the case where the wrong password is used to claim the ticket.</li><li><code>doubleClaimCheck</code> - This is meant to check for invalid tickets. In this case, it will try to claim the same ticket twice in a row.</li></ul><div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">advanced-tutorials/ticket-app-skeleton/utils/testTickDrop.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-docs-examples/blob/4c8f86dab842c16e9c2bc6ad6f22e1eee2dced9e/advanced-tutorials/ticket-app-skeleton/utils/testTickDrop.js#L1-L26" target="_blank">See full example on GitHub</a></div></div><p>With both the drop created utility function defined, some code can be written to test the actual logic to ensure that the ticket claiming process works as expected. This will be broken down into phases, similar to the actual ticketing experience. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wrong-password-check">Wrong Password Check<a href="#wrong-password-check" class="hash-link" aria-label="Direct link to Wrong Password Check" title="Direct link to Wrong Password Check">​</a></h3><p>The first phase of the ticketing experience can be labelled as <code>pre-entry</code>, when the attendee is looking to enter the event. Here, you want to ensure that only the host can allow them in, meaning the first key use must only be claimable with the correct password.</p><p>The following code can be used to test this logic, following the drop creation. </p><div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">advanced-tutorials/ticket-app/utils/testTickDrop.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-docs-examples/blob/4c8f86dab842c16e9c2bc6ad6f22e1eee2dced9e/advanced-tutorials/ticket-app/utils/testTickDrop.js#L5-L30" target="_blank">See full example on GitHub</a></div></div><p>It&#x27;s expected that after claiming with the incorrect password, <code>allowEntry</code> will return <code>false</code> since the key use remains at 1. However, once the correct password is provided, the <code>allowEntry</code> function should return <code>true</code>. In the tests, an <code>assert</code> function is used to ensure the proper behavior.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="preventing-multiple-entries">Preventing Multiple Entries<a href="#preventing-multiple-entries" class="hash-link" aria-label="Direct link to Preventing Multiple Entries" title="Direct link to Preventing Multiple Entries">​</a></h3><p>Once an attendee has been scanned into the event, they may try to give their ticket to someone else. To test and prevent this, <code>allowEntry</code> can be called multiple times on the same ticket. It is expected that the first call should return <code>true</code> but once it scans the same ticket again, <code>false</code> should be returned.</p><div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">advanced-tutorials/ticket-app/utils/testTickDrop.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-docs-examples/blob/4c8f86dab842c16e9c2bc6ad6f22e1eee2dced9e/advanced-tutorials/ticket-app/utils/testTickDrop.js#L32-L57" target="_blank">See full example on GitHub</a></div></div><p>With the drop functionality tested, you can be confident in the logic behind the scenes and focus on the app behavior. </p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="full-code">Full Code<a href="#full-code" class="hash-link" aria-label="Direct link to Full Code" title="Direct link to Full Code">​</a></h2><p>Now that everything has been put together, the final code can be seen below.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Full Testing Code</summary><div><div class="collapsibleContent_i85q"><p></p><div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">advanced-tutorials/ticket-app/utils/testTickDrop.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token spread operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-docs-examples/blob/4c8f86dab842c16e9c2bc6ad6f22e1eee2dced9e/advanced-tutorials/ticket-app/utils/testTickDrop.js#L1-L75" target="_blank">See full example on GitHub</a></div></div><p></p></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-script">Running the Script<a href="#running-the-script" class="hash-link" aria-label="Direct link to Running the Script" title="Direct link to Running the Script">​</a></h2><p>Here, you&#x27;ll learn how to run the code that was just covered, and what to expect. It&#x27;s assumed that you have already cloned the code from the <a href="https://github.com/keypom/keypom-docs-examples" target="_blank" rel="noopener noreferrer">Keypom Docs Examples</a> repo.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Prior to running these scripts, ensure you replace all instances of <code>minqi.testnet</code> with an account found in your <code>~/.near-credentials</code> folder</p></div></div><p>To run the script, run the following command inside the <code>keypom-docs-examples/advanced-tutorials/ticket-app-skeleton</code> directory:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> test-ticket-drop</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you&#x27;d like to run the already completed code found in the <code>ticket-app</code> directory instead of the skeleton code, run the same <code>yarn test-ticket-drop</code> command but inside of the <code>keypom-docs-examples/advanced-tutorials/ticket-app</code> directory instead.</p></div></div><p>This should return a successful test after outputting logs:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Password Test Responses:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expected false, got: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expected true, got: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Double Claim Test Responses:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expected true, got: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expected false, got: </span><span class="token boolean" style="color:#36acaa">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Full Script Output</summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Retrying transaction v2.keypom.testnet:2JdTtqWLNqLUjBL9CYJ1qkdUtYpDLXydvnCfHiW3LG3S with new nonce.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipts: DL3AwUHW22wqEvJ24Soh39Zgsa8iQhyNNKsqzfUggDCn, Dt1yEoGZ36avyKqwF82GL54emJkfmUx2AM3fUtkhC1Vv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Current Block Timestamp: </span><span class="token number" style="color:#36acaa">1680294425065581261</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> calls with </span><span class="token number" style="color:#36acaa">105000000000000</span><span class="token plain"> attached GAS. Pow outcome: </span><span class="token number" style="color:#36acaa">1.8602935</span><span class="token plain">. Required Allowance: </span><span class="token number" style="color:#36acaa">20248156910387200000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Total required storage Yocto </span><span class="token number" style="color:#36acaa">16330000000000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Current balance: </span><span class="token number" style="color:#36acaa">3.5921299</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Required Deposit: </span><span class="token number" style="color:#36acaa">0.2578263</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            total_required_storage: </span><span class="token number" style="color:#36acaa">0.01633</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Drop Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Key Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> Total Key Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            allowance: </span><span class="token number" style="color:#36acaa">0.0404963</span><span class="token plain"> total allowance: </span><span class="token number" style="color:#36acaa">0.0404963</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            access key storage: </span><span class="token number" style="color:#36acaa">0.001</span><span class="token plain"> total access key storage: </span><span class="token number" style="color:#36acaa">0.001</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deposits </span><span class="token function" style="color:#d73a49">less</span><span class="token plain"> none FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> total deposits: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> lazy registration: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deposits </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> total deposits </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uses per key: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            None FCs: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            length: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GAS to attach: </span><span class="token number" style="color:#36acaa">100000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: New user balance </span><span class="token number" style="color:#36acaa">3.3343036</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Fees collected </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrying transaction nft-v2.keypom.testnet:2iHrE9ooY2N4kUn9eqsScAyNjXkRkUBiQdzxYsXwFawm with new nonce.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipts: 6jzxKRXmGjrtSKP9V38puWLZPcDHaVYRrohtj29rsMxR, FCmjrSPxuyKEXdghJAkrz8H8AH3GaCPnceoZKuHazmrN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Current Block Timestamp: </span><span class="token number" style="color:#36acaa">1680294427597789158</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> calls with </span><span class="token number" style="color:#36acaa">105000000000000</span><span class="token plain"> attached GAS. Pow outcome: </span><span class="token number" style="color:#36acaa">1.8602935</span><span class="token plain">. Required Allowance: </span><span class="token number" style="color:#36acaa">20248156910387200000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Total required storage Yocto </span><span class="token number" style="color:#36acaa">16330000000000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Current balance: </span><span class="token number" style="color:#36acaa">3.6040689</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Required Deposit: </span><span class="token number" style="color:#36acaa">0.2578263</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            total_required_storage: </span><span class="token number" style="color:#36acaa">0.01633</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Drop Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Key Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> Total Key Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            allowance: </span><span class="token number" style="color:#36acaa">0.0404963</span><span class="token plain"> total allowance: </span><span class="token number" style="color:#36acaa">0.0404963</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            access key storage: </span><span class="token number" style="color:#36acaa">0.001</span><span class="token plain"> total access key storage: </span><span class="token number" style="color:#36acaa">0.001</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deposits </span><span class="token function" style="color:#d73a49">less</span><span class="token plain"> none FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> total deposits: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> lazy registration: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deposits </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> total deposits </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uses per key: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            None FCs: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            length: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GAS to attach: </span><span class="token number" style="color:#36acaa">100000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: New user balance </span><span class="token number" style="color:#36acaa">3.3462426</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Fees collected </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrying transaction nft-v2.keypom.testnet:CysD3CnodxvarnxUpQKKWWV1x9uhjEkCbWosy1DuDo7D with new nonce.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ticket Links:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http://localhost:1234/v2.keypom.testnet/3aJq6s8pNYFGbuUVG5fj7nJ9bpfKZD7iH4oak27yZnjQytcyCAFMioJEZrVJBf3itMgrs3gm8U1UszewfhXbfKUH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ticket Links:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http://localhost:1234/v2.keypom.testnet/2KxZarBh9hWy7JZGDvsJhdzP8Q3JtCy7ocZ4hvohHKEsSNjxTx3LWd8EDpHNfD2du8MQVftCNJKRCp99At1qigQU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Claiming with wrong password</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipt: BHH2ENLdWLpYDQDD8SmgbAXzVFGi9odnGwhgHxg6ifCR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Beginning of process claim used gas: </span><span class="token number" style="color:#36acaa">479192976105</span><span class="token plain"> prepaid gas: </span><span class="token number" style="color:#36acaa">100000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: passed global check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: hashed password: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">97</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">68</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">238</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">197</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">167</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">108</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">73</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">163</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">74</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">105</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">140</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">127</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">22</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">87</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">76</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">179</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">110</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">208</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">118</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">51</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">58</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">88</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">22</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">240</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">45</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">89</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">85</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: actualPass password: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">61</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">214</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">95</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">159</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">234</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">185</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">182</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">48</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">134</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">31</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">88</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">184</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">51</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">51</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">201</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">173</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">75</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">158</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">56</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">59</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">33</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">46</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">185</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">178</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">239</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">94</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> cur use: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Incorrect password. Decrementing allowance by </span><span class="token number" style="color:#36acaa">1244250690277300000000</span><span class="token plain">. Used GAS: </span><span class="token number" style="color:#36acaa">2442506902773</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Allowance is now </span><span class="token number" style="color:#36acaa">39252063130497100000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Invalid claim. Returning.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Claim has failed, check password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">claiming with correct password</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipt: 4gAycg2B1jVNoJtUT3snHWDA1Ffdkxt1oPu8vH1TwoSC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Beginning of process claim used gas: </span><span class="token number" style="color:#36acaa">479192976105</span><span class="token plain"> prepaid gas: </span><span class="token number" style="color:#36acaa">100000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: passed global check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: hashed password: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">61</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">214</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">95</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">159</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">234</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">185</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">182</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">48</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">134</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">31</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">88</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">184</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">51</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">51</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">201</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">173</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">75</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">158</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">56</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">59</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">33</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">46</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">185</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">178</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">239</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">94</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: actualPass password: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">61</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">214</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">95</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">159</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">234</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">185</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">182</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">48</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">134</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">31</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">88</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">184</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">51</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">51</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">201</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">173</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">75</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">158</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">56</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">59</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">33</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">46</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">185</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">178</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">239</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">94</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> cur use: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: passed </span><span class="token builtin class-name">local</span><span class="token plain"> check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Key usage last used: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> Num uses: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">before</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Key has </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> uses left. Decrementing allowance by </span><span class="token number" style="color:#36acaa">10000000000000000000000</span><span class="token plain">. Allowance left: </span><span class="token number" style="color:#36acaa">29252063130497100000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Total storage freed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">. Initial storage: </span><span class="token number" style="color:#36acaa">33083530</span><span class="token plain">. Final storage: </span><span class="token number" style="color:#36acaa">33083530</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Empty </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> call. Returning.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipts: D2TGQDXYR4um28CgTt8Z1aU1LMSABMChW9MZJPfVBcpd, 7FKbgHx6eFnfMM15B1Tw7U8wpeQe2WKwYUQG7Hbqe69L</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Current Block Timestamp: </span><span class="token number" style="color:#36acaa">1680294442058016014</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> calls with </span><span class="token number" style="color:#36acaa">105000000000000</span><span class="token plain"> attached GAS. Pow outcome: </span><span class="token number" style="color:#36acaa">1.8602935</span><span class="token plain">. Required Allowance: </span><span class="token number" style="color:#36acaa">20248156910387200000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Total required storage Yocto </span><span class="token number" style="color:#36acaa">16330000000000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Current balance: </span><span class="token number" style="color:#36acaa">3.6160078</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Required Deposit: </span><span class="token number" style="color:#36acaa">0.2578263</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            total_required_storage: </span><span class="token number" style="color:#36acaa">0.01633</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Drop Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Key Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> Total Key Fee: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            allowance: </span><span class="token number" style="color:#36acaa">0.0404963</span><span class="token plain"> total allowance: </span><span class="token number" style="color:#36acaa">0.0404963</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            access key storage: </span><span class="token number" style="color:#36acaa">0.001</span><span class="token plain"> total access key storage: </span><span class="token number" style="color:#36acaa">0.001</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deposits </span><span class="token function" style="color:#d73a49">less</span><span class="token plain"> none FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> total deposits: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> lazy registration: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deposits </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> total deposits </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> FCs: </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uses per key: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            None FCs: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            length: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GAS to attach: </span><span class="token number" style="color:#36acaa">100000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: New user balance </span><span class="token number" style="color:#36acaa">3.3581815</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Fees collected </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ticket Links:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http://localhost:1234/v2.keypom.testnet/2LNJU2adYHgvyuczoNFkvdL92vuunNCESaZiWYh6cQJXcwVSJpHqgQpGVUHsEDDee2oQrSELAkRGPeYroW6hoPaN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Claiming with correct password</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipt: G7y6MWapxNwCCmCPAQ6iRWdvT292dq8hWp8ZQAnTbXwQ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Beginning of process claim used gas: </span><span class="token number" style="color:#36acaa">479192976105</span><span class="token plain"> prepaid gas: </span><span class="token number" style="color:#36acaa">100000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: passed global check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: hashed password: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">105</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">193</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">27</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">134</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">73</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">227</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">30</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">73</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">201</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">126</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">217</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">239</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">38</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">216</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">62</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">177</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">19</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">137</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">73</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">159</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">32</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">38</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">59</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">94</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: actualPass password: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">105</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">193</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">27</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">134</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">73</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">227</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">30</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">73</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">201</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">126</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">217</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">239</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">38</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">216</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">62</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">44</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">177</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">19</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">137</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">73</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">159</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">32</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">38</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">59</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">94</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> cur use: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: passed </span><span class="token builtin class-name">local</span><span class="token plain"> check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Key usage last used: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> Num uses: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">before</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Key has </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> uses left. Decrementing allowance by </span><span class="token number" style="color:#36acaa">10000000000000000000000</span><span class="token plain">. Allowance left: </span><span class="token number" style="color:#36acaa">30496313820774400000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Total storage freed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">. Initial storage: </span><span class="token number" style="color:#36acaa">33085324</span><span class="token plain">. Final storage: </span><span class="token number" style="color:#36acaa">33085324</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v2.keypom.testnet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Empty </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> call. Returning.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">claiming the same key twice</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Key has already been scanned. Admission denied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Password Test Responses:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Expected false, got: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Expected true, got: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Double Claim Test Responses:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Expected true, got: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Expected false, got: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✨  Done </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token plain">.50s.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>So far, you&#x27;ve learned how to set up your React app, as well as break down the ticketing system into functional requirements. You then took those requirements and wrote a script to create the drop.</p><p>In the next tutorial, the ticketing process will be broken down into stages for both the user side and event organizer side. From there, the flow of the app, and the Keypom variables that control it, can be established.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/keypom/keypom-docs/tree/main/versioned_docs/version-2.0/Tutorials/Advanced/ticketing/drop-test.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/2.0/Tutorials/Advanced/ticketing/drop"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating the Drop</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/2.0/Tutorials/Advanced/ticketing/react-outline"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">App Design</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#host-claiming-code" class="table-of-contents__link toc-highlight">Host Claiming Code</a></li><li><a href="#testing-logic" class="table-of-contents__link toc-highlight">Testing Logic</a><ul><li><a href="#wrong-password-check" class="table-of-contents__link toc-highlight">Wrong Password Check</a></li><li><a href="#preventing-multiple-entries" class="table-of-contents__link toc-highlight">Preventing Multiple Entries</a></li></ul></li><li><a href="#full-code" class="table-of-contents__link toc-highlight">Full Code</a></li><li><a href="#running-the-script" class="table-of-contents__link toc-highlight">Running the Script</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Concepts/welcome">📖 Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Tutorials/welcome">💻 Tutorials</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/docs/TrialAccounts/introduction">🎁 Trial Accounts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Tutorials/BOS/welcome">🚀 BOS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/keypom-sdk/Core/welcome">📚 SDK TypeDocs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Cookbook/welcome">🧑‍🍳 Cookbook</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/keypomxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://nearbuilders.com/tg-keypom" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram Builder Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/keypom/keypom" target="_blank" rel="noopener noreferrer" class="footer__link-item">Protocol Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/keypom/keypom-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaScript SDK Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/keypom/keypom-docs-examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs Examples Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/keypom/keypom-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Keypom, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.61bceddc.js"></script>
<script src="/assets/js/main.3737a6b4.js"></script>
</body>
</html>
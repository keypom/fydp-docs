<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Function Call Drops | Keypom Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://docs.keypom.xyz/docs/Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://docs.keypom.xyz/img/newMoonCrop2.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:title" content="Keypom Developer Documentation"><meta data-rh="true" name="twitter:image" content="https://docs.keypom.xyz/img/newMoonCrop2.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Function Call Drops | Keypom Docs"><meta data-rh="true" name="description" content="Function call drops are by far the most powerful feature that Keypom provides. FC drops allow any method on any"><meta data-rh="true" property="og:description" content="Function call drops are by far the most powerful feature that Keypom provides. FC drops allow any method on any"><link data-rh="true" rel="icon" href="/img/moon.svg"><link data-rh="true" rel="canonical" href="https://docs.keypom.xyz/docs/Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops"><link data-rh="true" rel="alternate" href="https://docs.keypom.xyz/docs/Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.keypom.xyz/docs/Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.35f09d45.css">
<link rel="preload" href="/assets/js/runtime~main.61bceddc.js" as="script">
<link rel="preload" href="/assets/js/main.3737a6b4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/newMoonCrop.svg" alt="MOON" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/moon_white.png" alt="MOON" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/Concepts/welcome">üìñ Concepts</a><a class="navbar__item navbar__link" href="/docs/Tutorials/welcome">üíª Tutorials</a><a class="navbar__item navbar__link" href="/docs/TrialAccounts/introduction">üéÅ Trial Accounts</a><a class="navbar__item navbar__link" href="/docs/Tutorials/BOS/welcome">üöÄ BOS</a><a class="navbar__item navbar__link" href="/docs/keypom-sdk/Core/welcome">üìö SDK TypeDocs</a><a class="navbar__item navbar__link" href="/docs/Cookbook/welcome">üßë‚Äçüç≥ Cookbook</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/Concepts/welcome">3.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops">3.0</a></li><li><a class="dropdown__link" href="/docs/2.0/Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops">2.0</a></li></ul></div><a href="https://github.com/keypom/keypom-docs/tree/main" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 3.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Function Call Drops</h1><p>Function call drops are by far the most powerful feature that Keypom provides. FC drops allow <strong>any</strong> method on <strong>any</strong>
contract to be executed (with some exceptions). In addition, there are a huge variety of customizations and features you can choose from when
defining the drop that come on top of the global options. The possibilities are almost endless. State of the art NFT ticketing,
lazy minting NFTs, auto registration into DAOs, analytics for marketing at events and much more.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-it-work">How does it work?<a href="#how-does-it-work" class="hash-link" aria-label="Direct link to How does it work?" title="Direct link to How does it work?">‚Äã</a></h2><p>Unlike NFT and FT drops, the function calls must have everything paid for <strong>upfront</strong>. There is no two step process
so the creation is similar to Simple drops. Once the drop is created and keys are added, you can immediately start using it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="function-call-config">Function Call Config<a href="#function-call-config" class="hash-link" aria-label="Direct link to Function Call Config" title="Direct link to Function Call Config">‚Äã</a></h3><p>When creating the drop, you have quite a lot of customization available. At the top level, there is a FC drop global
config similar to how the <em>general</em> config works.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">üîë Keypom SDK</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">üìö Protocol</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">src/lib/types/fc.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-js/blob/e8c43f4219a79afb3c367296cc90b8d5de977945/src/lib/types/fc.ts#L68-L74" target="_blank">See full example on GitHub</a></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">contract/src/models/fc_model.rs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom/blob/7a654aa847f2ce9dedf65755c6a08817eece4666/contract/src/models/fc_model.rs#L53-L58" target="_blank">See full example on GitHub</a></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="methodmethoddata"><code>Method</code>/<code>MethodData</code><a href="#methodmethoddata" class="hash-link" aria-label="Direct link to methodmethoddata" title="Direct link to methodmethoddata">‚Äã</a></h3><p>In addition to the global config, the user can specify a set of what&#x27;s known as <code>Method</code>. This represents the
information for the function being called. Within this data, there are also a few optional configurations you can use
to extend your use cases. You&#x27;ll see how powerful these can be in the use cases <a href="#use-cases">section</a>.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">üîë Keypom SDK</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">üìö Protocol</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">src/lib/types/fc.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom-js/blob/e8c43f4219a79afb3c367296cc90b8d5de977945/src/lib/types/fc.ts#L7-L63" target="_blank">See full example on GitHub</a></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">contract/src/models/fc_model.rs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom/blob/7a654aa847f2ce9dedf65755c6a08817eece4666/contract/src/models/fc_model.rs#L18-L48" target="_blank">See full example on GitHub</a></div></div></div></div></div><p><code>Method</code>/<code>MethodData</code> keeps track of the method being called, receiver, arguments, and attached deposit. In addition, there are
some optional fields that can be used to extend the use cases. If you have a contract that requires some more context from
Keypom such as the drop ID, key ID, or account ID that used the key, these can all be specified.</p><p>We&#x27;ve kept it generic such that you can specify the actual argument name that these will be passed in as. For example, if you
had a contract that would lazy mint an NFT and it required the account to be passed in as <code>receiver_id</code>, you could specify
an <code>account_id_field</code> set to <code>receiver_id</code> such that Keypom will automatically pass in the account ID that used the key under the
field <code>receiver_id</code>.</p><p>This logic extends to the drop ID, and key Id as well.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-uses">Key Uses<a href="#key-uses" class="hash-link" aria-label="Direct link to Key Uses" title="Direct link to Key Uses">‚Äã</a></h3><p>For <strong>every key use</strong>, you can specify a <em>vector</em> of <code>Method</code>/<code>MethodData</code> which allows you to execute multiple function calls each
time a key is used. These calls are scheduled 1 by 1 using a simple for loop. This means that most of the time, the function
calls will be executed in the order specified in the vector but it is not <em>guaranteed</em>.</p><p>It&#x27;s important to note that the Gas available is split evenly between <em>all</em> the function calls and if there are too many,
you might run into issues with not having enough Gas. You&#x27;re responsible for ensuring that this doesn&#x27;t happen.</p><p>The vector of <code>Method</code>/<code>MethodData</code> is <em>optional</em> for each key use. If a key use has <code>null</code> rather than <code>Some(Vector&lt;MethodData&gt;)</code> or <code>Maybe&lt;Array&lt;Method&gt;&gt;</code>,
it will decrement the uses and work as normal such that the <code>throttle_timestamp, </code>start_timestamp` etc. are enforced. The only
difference is that after the key uses are decremented and these checks are performed, the execution <strong>finishes early</strong>. The null
case does <strong>not</strong> create an account or send <em>any</em> funds. It doesn&#x27;t invoke any function calls and simply <em>returns once the
checks are done</em>. This makes the null case act as a &quot;burner&quot; where you disregard any logic. This has many uses which will
be explored in the use cases <a href="#use-cases">section</a>.</p><p>If a key has more than 1 use, you can specify a <em>different vector</em> of <code>Method</code>/<code>MethodData</code> for <strong>each use</strong>. As an example, you could
specify that the first use will result in a null case and the second use will result in a lazy minting function being called.
If you have multiple uses but want them all to do the same thing, you don&#x27;t have to repeat the same data. Passing in only 1
vector of <code>Method</code>/<code>MethodData</code> will result in  <strong>all the uses</strong> inheriting that data.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="security">Security<a href="#security" class="hash-link" aria-label="Direct link to Security" title="Direct link to Security">‚Äã</a></h2><p>Since all FC drops will be signed by the Keypom contract, there are a few restrictions in place to avoid malicious behaviors.
To avoid users from stealing registered assets from other drops, the following methods cannot be called via FC Drops:</p><div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">contract/src/lib.rs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom/blob/7a654aa847f2ce9dedf65755c6a08817eece4666/contract/src/lib.rs#L926-L934" target="_blank">See full example on GitHub</a></div></div><p>In addition, the Keypom contract cannot be the receiver of any function call. This is to avoid people
from calling private methods through FC Drops.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="keypom-arguments">Keypom Arguments<a href="#keypom-arguments" class="hash-link" aria-label="Direct link to Keypom Arguments" title="Direct link to Keypom Arguments">‚Äã</a></h3><p>When a key is used and a function is called, there is a data structure that is <strong>automatically</strong> attached to the arguments.
This is known as the <code>keypom_args</code>. It contains the information that the drop creator specified in the <code>Method</code>/<code>MethodData</code>. </p><div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">contract/src/stage1/function_call.rs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">loading</span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/keypom/keypom/blob/7a654aa847f2ce9dedf65755c6a08817eece4666/contract/src/stage1/function_call.rs#L17-L22" target="_blank">See full example on GitHub</a></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">‚Äã</a></h4><p>Let&#x27;s say there was an exclusive NFT contract that allowed the Keypom contract to mint NFTs as part of an FC drop. Only Keypom
was given access to mint the NFTs so they could be given out as linkdrops. The organizer only wanted links that were part of their
drop to be valid. For this reason, the NFT contract would only mint if Keypom called the <code>nft_mint</code> function and there was a field
<code>series</code> passed in and it was equal to the drop ID created by the organizer.</p><p>Let&#x27;s say the owner created an exclusive drop that happened to have a drop ID of 5. They could then go to the NFT contract
and restrict NFTs to only be minted if:</p><ul><li><code>series</code> had a value of 5.</li><li>The Keypom contract was the one calling the function.</li></ul><p>In order for this to work, when creating the drop, the owner would need to specify that the<code>drop_id_field</code> was set to a value of <code>series</code>
such that the drop ID is correctly passed into the function.</p><p>The problem with this approach is that the NFT contract has no way of knowing which arguments were sent by the <strong>user</strong> when the drop
was created as part of the MethodData <code>args</code> and which arguments are automatically populated by the Keypom contract. There is nothing
stopping a malicious user from creating a new drop that has an ID of 6 but hard-coding in the actual arguments that <code>series</code> should have
a value of 5. In this case, the malicious drop would have <em>no</em> <code>drop_id_field</code> and the NFT contract would have no way of knowing that the
<code>series</code> value is malicious.</p><p>This can be prevented if a new field is introduced representing what was automatically injected by the Keypom contract itself. At the
end of the day, Keypom will <strong>always</strong> send correct information to the receiving contracts. If those contracts have a way to know what has
been sent by Keypom and what has been manually set by users, the problem is solved. In the above scenario, the NFT contract would simply add
an assertion that the <code>keypom_args</code> had the <code>account_id_field</code> set to <code>Some(series)</code> meaning that the incoming <code>series</code> field was set by Keypom
and not by a malicious user.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">‚Äã</a></h2><p>Function call drops are the bread and butter of the Keypom contract. They are the most powerful and complex drops that can currently be created.
With this complexity, there are an almost infinite number of use-cases that arise.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="proof-of-attendance-protocols">Proof of Attendance Protocols<a href="#proof-of-attendance-protocols" class="hash-link" aria-label="Direct link to Proof of Attendance Protocols" title="Direct link to Proof of Attendance Protocols">‚Äã</a></h3><p>A very common use case in the space is what&#x27;s known as Proof of Attendance. Often times when people go to events, they want a way to prove
that they were there. Some traditional approaches would be to submit your wallet address and you would be sent an NFT or some other form of
proof at a later date. The problem with this is that it has a very high barrier to entry. Not everyone has a wallet.</p><p>With Keypom, you can create a function call drop that allows people to onboard onto NEAR if they don&#x27;t have a wallet or if they do, they can
simply use that. As part of the onboarding / claiming process, they would receive some sort of proof of attendance such as an NFT. This can
be lazy minted on-demand such that storage isn&#x27;t paid up-front for all the tokens.</p><p>At this point, the event organizers or the funder can distribute links to people that attend the event in-person. These links would then be
claimed by users and they would receive the proof of attendance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="auto-registration-into-daos">Auto Registration into DAOs<a href="#auto-registration-into-daos" class="hash-link" aria-label="Direct link to Auto Registration into DAOs" title="Direct link to Auto Registration into DAOs">‚Äã</a></h3><p>DAOs are a raging topic in crypto. The problem with DAOs, however, is there is a barrier to entry for users that aren&#x27;t familiar with the
specific chain they&#x27;re built on top of. Users might not have wallets or understand how to interact with contracts. On the contrary, they
might be very well versed or immersed in the DAO&#x27;s topics. They shouldn&#x27;t be required to create a wallet and learn the onboarding process.</p><p>With Keypom, you can create a function call drop with the main purpose of registering users into a DAO. For people that have a wallet,
this will act as an easy way of registering them with the click of a link. For users that don&#x27;t have a wallet and are unfamiliar with
NEAR, they can be onboarded and registered into the DAO with the same click of a link.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multisig-contracts">Multisig Contracts<a href="#multisig-contracts" class="hash-link" aria-label="Direct link to Multisig Contracts" title="Direct link to Multisig Contracts">‚Äã</a></h3><p>Another amazing use-case for Keypom is allowing multisig contracts to have ZERO barrier to entry. Often times when using a multisig contract,
you will entrust a key to a trusted party. This party might have no idea what NEAR is or how to interact with your contract. With Keypom,
you can create a drop that will allow them to sign their transaction with a click of a link. No NEAR wallet is needed and no knowledge of the
chain is required.</p><p>At the end of the day, from the users perspective, they are given a link and when they click it, their portion of the multisig transaction is
signed. The action is only performed on the multisig contract once all links have been clicked. This is an extremely powerful way of doing
accomplishing multisig transactions with zero barrier to entry.</p><p>The users don&#x27;t even need to create a new account. They can simply call <code>claim</code> when the link is clicked which will fire the cross-contract call
to the multisig contract and pass in the keypom arguments that will be cross-checked by that contract.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nft-ticketing">NFT Ticketing<a href="#nft-ticketing" class="hash-link" aria-label="Direct link to NFT Ticketing" title="Direct link to NFT Ticketing">‚Äã</a></h3><p>The problem with current NFT ticketing systems is that they require users to have a wallet. This is a huge barrier to entry for people that
are attending events but don&#x27;t have wallets. In addition, there is often no proof of attendance for the event as the NFT is burned in order
to get into the event which requires an internet connection.</p><p>Keypom aims to solve these problems by having a ticketing system that has the following features.</p><ul><li>Users are not required to have a wallet to enter the event.</li><li>Each ticket is unique and can only be used by one person.</li><li>Attendees are not required to have wifi to gain entry to the event.</li><li>Attendees that did not have a NEAR wallet can get one for free.</li><li>Attendees can choose to receive an NFT proving their attendance at the event. This is commonly known as a <a href="https://academy.binance.com/en/glossary/proof-of-attendance-protocol-poap" target="_blank" rel="noopener noreferrer">POAP</a>.</li></ul><p>In addition, some way to provide analytics to event organizers that contains information such as links that were:</p><ul><li>Given out but not clicked at all.</li><li>Clicked but not attended.</li><li>Partially claimed indicating the number of people that attended but did not onboard or receive a POAP.</li><li>Fully claimed indicating the number of people that attended and received a POAP.</li></ul><p>In order to accomplish this, you can create a drop that has 3 uses per key. These uses would be:</p><ol><li>Array(<code>null</code>)</li><li>Array(<code>null</code>)</li><li>Array(function call to POAP contract to lazy mint an NFT)</li></ol><p>The event organizer would create the links and distribute them to people however they see fit. When a user receives the link, the first
claim is automatically fired. This is a <code>null</code> case so nothing happens except for the fact that the key uses are decremented. At this point,
the organizer knows that the user has clicked the link since the uses have been decremented.</p><p>The next claim happens <strong>only</strong> when the user is at the door. Keypom would expose a QR code that can only be scanned by the host&#x27;s phone.
This QR code would appear once the first link is clicked and contains the private key for the link. At the event, they wouldn&#x27;t need any wifi
to get in as they only need to show the host the QR code. Once the host scans it, the site would ensure that they have exactly 2 out of
the 3 uses left. If they don&#x27;t, they&#x27;re not let in. At that point, a use is decremented from the key and the next time they visit the
ticket page (when they have internet), they would be able to claim the final use and be onboarded / receive a POAP.</p><p align="center"> <img loading="lazy" src="/assets/images/ticketing-f7f1f205f51b8b82597adf1b7cc5b90d.png" alt="ticketing" width="65%" height="65%" class="img_ev3q"> </p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/keypom/keypom-docs/tree/main/docs/Concepts/KeypomProtocol/GithubReadme/TypesOfDrops/fc-drops.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-does-it-work" class="table-of-contents__link toc-highlight">How does it work?</a><ul><li><a href="#function-call-config" class="table-of-contents__link toc-highlight">Function Call Config</a></li><li><a href="#methodmethoddata" class="table-of-contents__link toc-highlight"><code>Method</code>/<code>MethodData</code></a></li><li><a href="#key-uses" class="table-of-contents__link toc-highlight">Key Uses</a></li></ul></li><li><a href="#security" class="table-of-contents__link toc-highlight">Security</a><ul><li><a href="#keypom-arguments" class="table-of-contents__link toc-highlight">Keypom Arguments</a></li></ul></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a><ul><li><a href="#proof-of-attendance-protocols" class="table-of-contents__link toc-highlight">Proof of Attendance Protocols</a></li><li><a href="#auto-registration-into-daos" class="table-of-contents__link toc-highlight">Auto Registration into DAOs</a></li><li><a href="#multisig-contracts" class="table-of-contents__link toc-highlight">Multisig Contracts</a></li><li><a href="#nft-ticketing" class="table-of-contents__link toc-highlight">NFT Ticketing</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Concepts/welcome">üìñ Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Tutorials/welcome">üíª Tutorials</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/docs/TrialAccounts/introduction">üéÅ Trial Accounts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Tutorials/BOS/welcome">üöÄ BOS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/keypom-sdk/Core/welcome">üìö SDK TypeDocs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Cookbook/welcome">üßë‚Äçüç≥ Cookbook</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/keypomxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://nearbuilders.com/tg-keypom" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram Builder Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/keypom/keypom" target="_blank" rel="noopener noreferrer" class="footer__link-item">Protocol Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/keypom/keypom-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaScript SDK Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/keypom/keypom-docs-examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs Examples Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/keypom/keypom-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2023 Keypom, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.61bceddc.js"></script>
<script src="/assets/js/main.3737a6b4.js"></script>
</body>
</html>